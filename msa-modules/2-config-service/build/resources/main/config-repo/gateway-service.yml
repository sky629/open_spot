spring:
  cloud:
    gateway:
      server:
        webmvc:
          routes:
            - id: auth-service
              uri: http://${AUTH_SERVICE_HOST:localhost}:${AUTH_SERVICE_PORT:8081}
              predicates:
                - Path=/api/v1/auth/**, /api/v1/users/**
              filters:
                - StripPrefix=0

            - id: analysis-service
              uri: http://${ANALYSIS_SERVICE_HOST:localhost}:${ANALYSIS_SERVICE_PORT:8082}
              predicates:
                - Path=/api/v1/stores/**, /api/v1/reports/**
              filters:
                - StripPrefix=0

        globalcors:
          cors-configurations:
            '[/**]':
              allowedOrigins: "*"
              allowedMethods: "*"
              allowedHeaders: "*"
            
server:
  port: 8080

management:
  endpoints:
    web:
      exposure:
        include: health, info, gateway